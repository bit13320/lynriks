<!DOCTYPE html>
<html>
<head>
	<title>Madonna Music Player</title>
	<style type="text/css">
		#button-box {
			height: 100px;
			width: 400px;
			text-align: center;
			font-size: 20px;
		}

		.button {
			display: inline-block;
			margin: 10px;
			padding: 10px;
			background-color: #ccc;
			cursor: pointer;
			border-radius: 5px;
		}

		.green-button {
			background-color: green;
		}

		.red-button {
			background-color: red;
		}
	</style>
</head>
<body>
	<audio id="audio-player" controls>
		<source src="Madonna.mp3" type="audio/mpeg">
		Your browser does not support the audio element.
	</audio>

	<div id="button-box">
		<p>选择这里</p>
		<button id="button-A" class="button">A：freedom</button>
		<button id="button-B" class="button">B：impressed</button>
		<button id="button-C" class="button">C：nines</button>
		<button id="button-D" class="button">D：heel跟</button>
	</div>

	<script type="text/javascript">
		var audioPlayer = document.getElementById("audio-player");
		var buttonBox = document.getElementById("button-box");
		var buttonA = document.getElementById("button-A");
		var buttonB = document.getElementById("button-B");
		var buttonC = document.getElementById("button-C");
		var buttonD = document.getElementById("button-D");

		buttonBox.style.display = "none";
		
		audioPlayer.addEventListener("timeupdate", function() {
			if (audioPlayer.currentTime >= 82) {
				buttonBox.style.display = "block";
			}
		});

		function hideButtons() {
			buttonA.style.display = "none";
			buttonB.style.display = "none";
			buttonC.style.display = "none";
			buttonD.style.display = "none";
		}

		buttonA.addEventListener("click", function() {
			buttonA.classList.add("red-button");
			audioPlayer.currentTime -= 6;
		});

		buttonB.addEventListener("click", function() {
			buttonB.classList.add("red-button");
			audioPlayer.currentTime -= 6;
		});

		buttonC.addEventListener("click", function() {
			buttonC.classList.add("green-button");
			setTimeout(function() {
				hideButtons();
			}, 1500);
		});

		buttonD.addEventListener("click", function() {
			buttonD.classList.add("red-button");
			audioPlayer.currentTime -= 6;
		});

		setTimeout(function() {
			if (buttonBox.style.display !== "none") {
				audioPlayer.pause();
			}
		}, 7000);		
	</script>
</body>
</html>